<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" width="980" height="280" viewBox="0 0 980 280">
  <defs>
    <style>
      .box { fill: #ffffff; stroke: #222; stroke-width: 2; rx: 10; ry: 10; }
      .t { font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial; fill: #111; }
      .h { font-size: 18px; font-weight: 650; }
      .b { font-size: 16px; }
      .s { font-size: 14px; fill: #333; }
      .arrow { stroke: #111; stroke-width: 2.5; fill: none; marker-end: url(#m); }
    </style>
    <marker id="m" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <path d="M0,0 L10,3 L0,6 Z" fill="#111"/>
    </marker>
  </defs>

  <rect class="box" x="20" y="30" width="280" height="220"/>
  <text class="t h" x="40" y="70">Step 1: generate carbene</text>
  <text class="t b" x="40" y="110">CHCl3 + OH- &lt;-&gt; CCl3- + H2O</text>
  <text class="t b" x="40" y="150">CCl3- -&gt; :CCl2 + Cl-</text>
  <text class="t s" x="40" y="190">Key idea: base forms</text>
  <text class="t s" x="40" y="210">dichlorocarbene (:CCl2).</text>

  <path class="arrow" d="M310 140 C 360 140, 380 140, 430 140"/>

  <rect class="box" x="440" y="30" width="260" height="220"/>
  <text class="t h" x="460" y="70">Step 2: ring attack</text>
  <text class="t b" x="460" y="110">PhO- + :CCl2 -&gt; sigma-complex</text>
  <text class="t s" x="460" y="150">Attack occurs ortho/para</text>
  <text class="t s" x="460" y="170">to phenoxide oxygen.</text>
  <text class="t s" x="460" y="210">Then rearomatization</text>
  <text class="t s" x="460" y="230">gives Ar-CCl2.</text>

  <path class="arrow" d="M710 140 C 760 140, 780 140, 830 140"/>

  <rect class="box" x="840" y="30" width="120" height="220"/>
  <text class="t h" x="855" y="70">Step 3</text>
  <text class="t b" x="855" y="110">Hydrolysis</text>
  <text class="t b" x="855" y="130">+ workup</text>
  <text class="t b" x="855" y="170">Ar-CHO</text>
  <text class="t s" x="855" y="210">Formyl carbon</text>
  <text class="t s" x="855" y="230">comes from CHCl3.</text>
</svg>
